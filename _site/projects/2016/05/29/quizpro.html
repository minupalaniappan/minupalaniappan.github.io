<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>How Android&#39;s SDK and Flash allowed me to gamify CK12&#39;s edu content</title>
  <meta name="description" content="At the end of my senior year of High school, I interned at CK-12; my task was to take their educational content and bake it into an Android application. I ch...">
  <link href='https://fonts.googleapis.com/css?family=Karla:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://minupalaniappan.com/projects/2016/05/29/quizpro.html">
  <link rel="alternate" type="application/rss+xml" title="MSP" href="http://minupalaniappan.com/feed.xml">
</head>


  <body>

    <header class="site-header">
  <meta name="description" content="Minu Palaniappan: A founder at UC Discourse">
  <meta name="keywords" content="minupalaniappan, minupalaniappan design, minupalaniappan studio, minupalaniappanweb design and development, web design and development, responsive design, UI design, mobile app design, icon design, logo and identity systems, logo, print design, graphic, design, graphic design, graphic designer, web design, web designer, app design, app designer, interactive, interaction, user interface, UI, user experience, UX, typography, pattern, pattern designer, pattern design, textile, textile designer, textile design, front-end developer, developer, css, css3, html, html5, wordpress, blog design, blog development, California, Silicon Valley, Davis, portfolio, projects, angularfire, firebase, django, fullstack, sundar, palo alto, sunnyvale, ucdiscourse, founder, jekyll, nba, warriors, pheonix, suns, spurs, san antonio">

  <div class="wrapper">
    <a class="site-title" href="/">MSP</a>
    
      
      <a class="page-link" href="mailto:mspal@ucdavis.edu">Inbox me</a>
      
    
      
    
      
    
      
    
  </div>
  <script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-67741779-1', 'auto');
	ga('send', 'pageview');
  </script>
</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="padding80">
  <header>
    <h2>How Android's SDK and Flash allowed me to gamify CK12's edu content</h2>
    <p class = "small"><time datetime="2016-05-29T00:00:00-07:00">May 29, 2016</time></p>
  </header>
  <div>
    <p>At the end of my senior year of High school, I interned at CK-12; my task was to take their educational content and bake it into an Android application. I chose to gamify it.</p>

<h3 id="source">Source</h3>
<ul>
  <li><a href="https://github.com/minupalaniappan/CK12QuizPro">Github code</a></li>
</ul>

<h3 id="authentication">Authentication</h3>

<p>Many of the function calls I make require direct queries to CK-12’s database. In addition, since this is a game, I want to record a user’s scores, performance and test-taking times. The core of this application requires a url builder like so…</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">if</span><span class="o">(</span><span class="n">requestType</span> <span class="o">==</span> <span class="s">"GET"</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">//  System.out.println("Requeted URL:" + myURL);</span>
        <span class="n">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="o">();</span>
        <span class="n">URLConnection</span> <span class="n">urlConn</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">InputStreamReader</span> <span class="n">in</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        	<span class="n">CookieManager</span> <span class="n">cm</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CookieManager</span><span class="o">();</span>
        	 <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">myURL</span><span class="o">);</span>
            <span class="n">urlConn</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">myCookie</span> <span class="o">=</span> <span class="s">"auth-astro = "</span> <span class="o">+</span> <span class="n">cookie</span><span class="o">;</span>
            <span class="n">urlConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Cookie"</span><span class="o">,</span> <span class="n">myCookie</span><span class="o">);</span>
            <span class="n">urlConn</span><span class="o">.</span><span class="na">connect</span><span class="o">();</span>
           <span class="n">cm</span><span class="o">.</span><span class="na">storeCookies</span><span class="o">(</span><span class="n">urlConn</span><span class="o">);</span>
           <span class="n">cm</span><span class="o">.</span><span class="na">setCookies</span><span class="o">(</span><span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">());</span>
</code></pre>
</div>
<p>Above, I am setting up the cookie for a specific user and opening a line of authentication so that the user can make requests back and forth from the database.</p>

<p>Additionally, I also had to work with KeyValue pairs in order to properly authenticate each user.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">urlParameters</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">BasicNameValuePair</span><span class="o">(</span><span class="s">"login"</span><span class="o">,</span> <span class="n">username</span><span class="o">));</span>
<span class="n">urlParameters</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">BasicNameValuePair</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="n">password</span><span class="o">));</span>
<span class="n">urlParameters</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">BasicNameValuePair</span><span class="o">(</span><span class="s">"authType"</span><span class="o">,</span> <span class="n">authType</span><span class="o">));</span>
</code></pre>
</div>

<h3 id="gaming">Gaming</h3>

<p>So, once the user has been authenticated, we need to allow them to start taking quizzes. Building the workflow for each quiz was straightforward.</p>

<ul>
  <li>We begin the quiz state like so…</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">new</span> <span class="nf">Runnable</span> <span class="p">(</span><span class="o">)</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="n">run</span> <span class="o">()</span> <span class="o">{</span>
		<span class="n">WebSettings</span> <span class="n">webSettings</span> <span class="o">=</span> <span class="n">mainDisplay</span><span class="o">.</span><span class="na">getSettings</span><span class="o">();</span>
		<span class="n">webSettings</span><span class="o">.</span><span class="na">setJavaScriptEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
		<span class="n">mainDisplay</span><span class="o">.</span><span class="na">addJavascriptInterface</span><span class="o">(</span><span class="n">TESTUI</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="s">"Android"</span><span class="o">);</span>
		<span class="n">mainDisplay</span><span class="o">.</span><span class="na">loadData</span><span class="o">(</span><span class="n">client</span><span class="o">.</span><span class="na">HTMLasString</span><span class="o">(</span><span class="n">TESTUI</span><span class="o">.</span><span class="na">this</span><span class="o">,</span>
			<span class="n">R</span><span class="o">.</span><span class="na">raw</span><span class="o">.</span><span class="na">truefalse</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span>
			<span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">questionData</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">2</span><span class="o">),</span>
			<span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">questionData</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">3</span><span class="o">),</span>
			<span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">questionData</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">4</span><span class="o">),</span>
			<span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="kc">null</span><span class="o">,</span>
			<span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="kc">null</span><span class="o">),</span>
		<span class="s">"text/html"</span><span class="o">,</span> <span class="s">"utf-8"</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">});</span>
</code></pre>
</div>

<p>Here, we are fetching a set of questions. Each question is boxed into 3 attributes, and that is why you see the <code class="highlighter-rouge">questionData.get()</code> run 3 times.</p>

<ul>
  <li>We begin the stopwatch.</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">timer</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
</code></pre>
</div>

<ul>
  <li>We record correct and incorrect answers.</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">string</span> <span class="n">crt</span> <span class="o">=</span> <span class="n">returnedResult</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"response"</span><span class="o">));</span>
<span class="n">crt</span> <span class="o">=</span> <span class="n">crt</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"correctAnswer"</span><span class="o">).</span><span class="na">getAsString</span><span class="o">());</span>
<span class="k">if</span><span class="o">(</span><span class="n">userInput</span><span class="o">.</span><span class="na">equals</span><span class="o">(((</span><span class="n">crt</span><span class="o">)){</span>
	<span class="n">response</span><span class="o">.</span><span class="na">setTextColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">parseColor</span><span class="o">(</span><span class="s">"#A6E3A6"</span><span class="o">));</span>
	<span class="n">response</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"\u2713"</span><span class="o">);</span>
	<span class="n">correct</span><span class="o">++;</span>
<span class="o">}</span>
</code></pre>
</div>

<p>We fetch the string and set it to <code class="highlighter-rouge">crt</code>. After this, we compare it to the <code class="highlighter-rouge">userInput</code>. If the condition is met, we increment the <code class="highlighter-rouge">correct</code> count and produce a green checkmark (<code class="highlighter-rouge">"\u2713"</code>).</p>

<ul>
  <li>At the end, we compile a performance report, and write it to the profile.</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Bundle</span> <span class="n">b</span> <span class="o">=</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getExtras</span><span class="o">();</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">ENCODEDID</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"TITLE"</span><span class="o">);</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">DURATION</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"DURATION"</span><span class="o">);</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">TOTALQUESTION</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"TOTALQUESTION"</span><span class="o">);</span>
<span class="kd">final</span> <span class="kt">int</span> <span class="n">SCORE</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"SCORE"</span><span class="o">);</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">SKIPPED</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"SKIPPED"</span><span class="o">);</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">WRONG</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"WRONG"</span><span class="o">);</span>
<span class="kd">final</span> <span class="n">String</span> <span class="o">[]</span> <span class="n">submissions</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="na">getStringArray</span><span class="o">(</span><span class="s">"SUBMISSIONS"</span><span class="o">);</span>
</code></pre>
</div>

<p>Many of the components written for each view are passed through what are called Bundles. Essentially, you can bundle sets of meta data and tie it to objects of type <code class="highlighter-rouge">Bundle</code>. That is what <code class="highlighter-rouge">b</code> is here. I simply unwrap the bundle when I want to retrieve the quiz performance. This can be done with <code class="highlighter-rouge">getString()</code>.</p>

<h3 id="project-timeline">Project timeline</h3>

<p>This application was fairly comprehensive and was a proof-of-concept for many of CK-12’s mobile games. It was especially important, because it was developed by a student; at CK-12, the student perspective was valued and foundational to many of the tools that were built.</p>


  </div>
  <footer>
  	<a href="">Go up</a>
  </footer>

</article>
      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class = "small">Me</li>
          <li><a href="mailto:mspal@ucdavis.edu">mspal@ucdavis.edu</a></li>
          <li><a href="/resume/2016.pdf">Resume</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          <li class = "small">Me online</li>
          
          <li>
            <a href="https://github.com/minupalaniappan"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">minupalaniappan</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/minupalaniappan"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">minupalaniappan</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <li style = "list-style-type: none" class = "small">Me at school</li>
        <p>I am a second year student at the University of the California, Davis pursuing a double major in Design and Computer Science.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
